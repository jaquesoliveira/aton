<div class="full-container" *ngIf="showSpinner">
    <mat-spinner class="load-centered"></mat-spinner>
</div>
<div class="row mt-1 mb-1">
    <div class="d-flex justify-content-between" 
        style="display: flex; align-items: center;">
        <div style="display: flex; align-items: center;">
            <button mat-mini-fab
                color="primary"
                (click)="navegarParaMenuDeClientes()">
                <mat-icon>menu</mat-icon>
            </button>
            <img class="ms-2" width="30px" src="assets/images/pessoa_fisica.png" alt="">
            <span class="ms-1" style="font-size: large;">Clientes Pessoa Física</span>
        </div>
    </div>
</div>

<div class="card-header barra-de-titulo mb-1" 
    style="background-color: #3f51b5; color: #fff; padding: 5px;">
    <span class="ms-2">Filtros</span>
</div>

<div class="card mb-1">
    <div class="card-body"> 

        <div class="row mt-3">
            <div class="mb-3 col-3">
                <label for="fabricante" class="form-label">Nome</label>
                <input class="form-control form-control-sm"
                    [(ngModel)]="filtros.nome"
                    (keyup.enter)="onEnter()"
                    id="fabricante">
            </div>

            <div class="mb-3 col-2">
                <label for="potencia" class="form-label">CPF</label>
                <input class="form-control form-control-sm" 
                [(ngModel)]="filtros.cpf"
                    (keyup.enter)="onEnter()"
                    id="potencia">
            </div>

            <div class="mb-3 col-2">
                <label for="potencia" class="form-label">RG</label>
                <input class="form-control form-control-sm" 
                    [(ngModel)]="filtros.rg"
                    (keyup.enter)="onEnter()"
                    id="potencia">
            </div>

            <div class="mb-3 col-2">
                <label for="garantia" class="form-label">Telefone</label>
                <input class="form-control form-control-sm"
                    [(ngModel)]="filtros.telefone"
                    (keyup.enter)="onEnter()"
                    id="garantia">
            </div>

            <div class="mb-3 col-3">
                <label for="modelo" class="form-label">E-mail</label>
                <input class="form-control form-control-sm"
                    [(ngModel)]="filtros.email"
                    (keyup.enter)="onEnter()"
                    id="modelo">
            </div>
        </div>
        
        <mat-divider></mat-divider>
        <div class="row mt-2">
            <div class="d-flex justify-content-end">        
                <button mat-raised-button color="primary" 
                    (click)="limpar()"
                    class="ms-5">Limpar</button>
                <button mat-raised-button color="primary" 
                    (click)="pesquisar()"
                    class="ms-1">Pesquisar</button>
            </div>
        </div>
    </div>
</div>

<div class="card-header barra-de-titulo mb-1 mt-3" 
    style="background-color: #3f51b5; color: #fff; padding: 5px;">
    <span class="ms-2">Lista de Clientes</span>
</div>
<div class="card mb-5">
    <div class="card-body"> 

    <div class="d-flex justify-content-between" 
        style="display: flex; align-items: center;">
        <button mat-raised-button 
            color="primary" 
            (click)="navegarParaFormularioDeCliente()">
            Adicionar
        </button>        

        <mat-paginator 
            [length]="totalPages"
            [pageSize]="pageSize"
            [pageSizeOptions]="pageOptions"
            aria-label="Select page">
        </mat-paginator>
    </div>    
    
    <mat-divider class="mt-3"></mat-divider>

    <table mat-table [dataSource]="dataSource">
        <!-- Position Column -->
        <ng-container mat-column-codigo  matColumnDef="codigo" style="width: 20px !important;">
            <th mat-header-cell mat-column-codigo  *matHeaderCellDef> Código </th>
            <td mat-cell mat-column-codigo *matCellDef="let element"
            style="width: 5%;"><span style="text-transform: uppercase;">{{element.id}}</span></td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="nome" >
            <th mat-header-cell *matHeaderCellDef> Nome </th>
            <td mat-cell mat-column-nome *matCellDef="let element"
                style="width: 21%; text-transform: uppercas;"> {{element.nome}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="cpf" >
            <th mat-header-cell *matHeaderCellDef> CPF </th>
            <td mat-cell mat-column-cpf *matCellDef="let element"
                style="width: 15%; text-transform: uppercas;"> {{element.cpf}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="rg" >
            <th mat-header-cell *matHeaderCellDef> RG </th>
            <td mat-cell mat-column-cpf *matCellDef="let element"
                style="width: 15%; text-transform: uppercas;"> {{element.rg}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="telefone" >
            <th mat-header-cell *matHeaderCellDef> Telefone </th>
            <td mat-cell mat-column-telefone *matCellDef="let element"
                style="width: 15%; text-transform: uppercas;"> {{element.telefone}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="email" >
            <th mat-header-cell *matHeaderCellDef> E-mail </th>
            <td mat-cell mat-column-email *matCellDef="let element"
                style="width: 15%; text-transform: uppercase;"> {{element.email}} </td>
        </ng-container>
      
        <!-- Weight Column -->
        <ng-container matColumnDef="acoes">
        <th mat-header-cell *matHeaderCellDef mat-column-acoes > Ações </th>
        <td mat-cell mat-column-acoes *matCellDef="let element"
            style="width: 11%;">
            
            <button mat-mini-fab
                color="primary"
                [routerLink]="['/cadastro/clientes/pessoa-fisica-form']"
                (click)="editar(element)"> 
                
                <mat-icon>edit</mat-icon>
            </button>

            <button mat-mini-fab
                color="primary"
                class="ms-2"
                (click)="excluir(element.id)">
                <mat-icon>delete</mat-icon>
            </button>
        </td>
        </ng-container>  

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
